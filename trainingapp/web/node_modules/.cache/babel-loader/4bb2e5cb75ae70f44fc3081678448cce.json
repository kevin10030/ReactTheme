{"ast":null,"code":"var _jsxFileName = \"D:\\\\CSH\\\\A\\\\IoT\\\\Web\\\\Training\\\\trainingapp\\\\web\\\\src\\\\modules\\\\website\\\\EmailConfirmationPage.js\";\nimport React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { CButton, CCard, CCardBody, CCol, CContainer, CForm, CInput, CInputGroup, CInputGroupPrepend, CInputGroupText, CRow, CAlert, CSpinner } from \"@coreui/react\";\nimport MuiAlert from '@material-ui/lab/Alert';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport CIcon from \"@coreui/icons-react\";\nimport { useHistory } from \"react-router-dom\";\nimport Amplify, { Auth } from \"aws-amplify\";\nimport free_trial_bg from \"../../assets/images/home/free_trial_bg.png\";\nimport free_trial_circle1 from \"../../assets/images/home/free_trial_circle1.png\";\nimport free_trial_circle2 from \"../../assets/images/home/free_trial_circle2.png\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport styles from \"../../assets/material/jss/material-dashboard-pro-react/views/registerPageStyle\";\nconst useStyles = makeStyles(styles);\n\nfunction Alert(props) {\n  return /*#__PURE__*/React.createElement(MuiAlert, Object.assign({\n    elevation: 6\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 10\n    }\n  }));\n}\n\nexport default function EmailConfirmationPage() {\n  const classes = useStyles();\n  const history = useHistory();\n  const [email, setEmail] = React.useState(\"\");\n  const dispatch = useDispatch();\n  const [isHidden, setIsHidden] = React.useState(true);\n  const [isDisabled, setIsDisabled] = React.useState(false);\n  const [toast, showToast] = React.useState(false);\n  const [toastMessage, setToastMessage] = React.useState('');\n  const [toastClass, setToastClass] = React.useState('success');\n  Amplify.configure({\n    Auth: {\n      region: process.env.REACT_APP_AWS_REGION,\n      userPoolId: process.env.REACT_APP_AWS_USER_POOL_ID,\n      userPoolWebClientId: process.env.REACT_APP_AWS_USER_POOL_CLIENT_ID\n    }\n  });\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    setIsDisabled(true);\n    setIsHidden(false);\n    showToast(false);\n\n    try {\n      await Auth.forgotPassword(email);\n      dispatch({\n        type: \"set\",\n        changePasswordUser: {\n          email: email\n        }\n      });\n      history.push(\"/auth/change-password\");\n    } catch (error) {\n      setIsDisabled(false);\n      setIsHidden(true);\n      setToastClass('error');\n      setToastMessage(error.message);\n      showToast(true);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container,\n    style: {\n      padding: \"2rem\",\n      margin: \"0\",\n      backgroundImage: \"url(\" + free_trial_bg + \")\",\n      width: \"100%\",\n      height: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CRow, {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CCol, {\n    md: \"7\",\n    lg: \"6\",\n    xl: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CRow, {\n    style: {\n      float: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CCardBody, {\n    style: {\n      backgroundImage: \"url(\" + free_trial_circle1 + \")\",\n      backgroundRepeat: 'no-repeat',\n      backgroundPosition: 'center',\n      backgroundSize: 'cover',\n      width: \"100px\",\n      height: \"100px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(CCard, {\n    className: \"mx-4\",\n    style: {\n      display: \"block\",\n      margin: \"0\",\n      marginTop: \"30px\",\n      marginLeft: \"60px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CCardBody, {\n    className: \"p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CForm, {\n    id: \"EmailForm\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      fontFamily: \"Poppins-Bold\",\n      textAlign: \"center\",\n      color: \"#000\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }, \"Forgot Password\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-muted\",\n    style: {\n      fontFamily: \"Poppins-Regular\",\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 19\n    }\n  }, \"Enter registered email address.\"), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupPrepend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(CIcon, {\n    name: \"cil-envelope-closed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(CInput, {\n    type: \"email\",\n    placeholder: \"Email\",\n    autoComplete: \"email\",\n    onChange: e => setEmail(e.target.value),\n    required: true,\n    value: email,\n    pattern: \"[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,}$\",\n    style: {\n      fontFamily: \"Poppins-Regular\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(CButton, {\n    type: \"submit\",\n    block: true,\n    disabled: isDisabled,\n    style: {\n      fontFamily: \"Poppins-Regular\",\n      background: \"#ff8b02\",\n      color: \"#fff\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CSpinner, {\n    grow: true,\n    size: \"sm\",\n    className: \"mfe-1\",\n    hidden: isHidden,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }), \"Send Verification Code\")))), /*#__PURE__*/React.createElement(CRow, {\n    style: {\n      float: \"right\",\n      marginTop: \"-70px\",\n      marginRight: \"-10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CCardBody, {\n    style: {\n      textAlign: \"bottom\",\n      backgroundImage: \"url(\" + free_trial_circle2 + \")\",\n      backgroundRepeat: 'no-repeat',\n      backgroundPosition: 'center',\n      backgroundSize: 'cover',\n      width: \"100px\",\n      height: \"100px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  }))))), /*#__PURE__*/React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'center'\n    },\n    open: toast,\n    autoHideDuration: 3000,\n    onClose: () => {\n      showToast(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    severity: toastClass,\n    action: /*#__PURE__*/React.createElement(CButton, {\n      onClick: e => {\n        e.preventDefault();\n        showToast(false);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CIcon, {\n      name: \"cil-x\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 83\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, toastMessage)));\n}","map":{"version":3,"sources":["D:/CSH/A/IoT/Web/Training/trainingapp/web/src/modules/website/EmailConfirmationPage.js"],"names":["React","useDispatch","CButton","CCard","CCardBody","CCol","CContainer","CForm","CInput","CInputGroup","CInputGroupPrepend","CInputGroupText","CRow","CAlert","CSpinner","MuiAlert","Snackbar","CIcon","useHistory","Amplify","Auth","free_trial_bg","free_trial_circle1","free_trial_circle2","makeStyles","styles","useStyles","Alert","props","EmailConfirmationPage","classes","history","email","setEmail","useState","dispatch","isHidden","setIsHidden","isDisabled","setIsDisabled","toast","showToast","toastMessage","setToastMessage","toastClass","setToastClass","configure","region","process","env","REACT_APP_AWS_REGION","userPoolId","REACT_APP_AWS_USER_POOL_ID","userPoolWebClientId","REACT_APP_AWS_USER_POOL_CLIENT_ID","handleSubmit","event","preventDefault","forgotPassword","type","changePasswordUser","push","error","message","container","padding","margin","backgroundImage","width","height","float","backgroundRepeat","backgroundPosition","backgroundSize","display","marginTop","marginLeft","fontFamily","textAlign","color","e","target","value","background","marginRight","vertical","horizontal"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,SACEC,OADF,EAEEC,KAFF,EAGEC,SAHF,EAIEC,IAJF,EAKEC,UALF,EAMEC,KANF,EAOEC,MAPF,EAQEC,WARF,EASEC,kBATF,EAUEC,eAVF,EAWEC,IAXF,EAYEC,MAZF,EAaEC,QAbF,QAcO,eAdP;AAgBA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AAEA,OAAOC,KAAP,MAAkB,qBAAlB;AAEA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,OAAP,IAAkBC,IAAlB,QAA8B,aAA9B;AAEA,OAAOC,aAAP,MAA0B,4CAA1B;AACA,OAAOC,kBAAP,MAA+B,iDAA/B;AACA,OAAOC,kBAAP,MAA+B,iDAA/B;AAEA,SAASC,UAAT,QAA2B,0BAA3B;AAEA,OAAOC,MAAP,MAAmB,gFAAnB;AAEA,MAAMC,SAAS,GAAGF,UAAU,CAACC,MAAD,CAA5B;;AAEA,SAASE,KAAT,CAAeC,KAAf,EAAsB;AACpB,sBAAO,oBAAC,QAAD;AAAU,IAAA,SAAS,EAAE;AAArB,KAA4BA,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;AACD;;AAED,eAAe,SAASC,qBAAT,GAAiC;AAC9C,QAAMC,OAAO,GAAGJ,SAAS,EAAzB;AACA,QAAMK,OAAO,GAAGb,UAAU,EAA1B;AACA,QAAM,CAACc,KAAD,EAAQC,QAAR,IAAoBjC,KAAK,CAACkC,QAAN,CAAe,EAAf,CAA1B;AACA,QAAMC,QAAQ,GAAGlC,WAAW,EAA5B;AACA,QAAM,CAACmC,QAAD,EAAWC,WAAX,IAA0BrC,KAAK,CAACkC,QAAN,CAAe,IAAf,CAAhC;AACA,QAAM,CAACI,UAAD,EAAaC,aAAb,IAA8BvC,KAAK,CAACkC,QAAN,CAAe,KAAf,CAApC;AACA,QAAM,CAACM,KAAD,EAAQC,SAAR,IAAqBzC,KAAK,CAACkC,QAAN,CAAe,KAAf,CAA3B;AACA,QAAM,CAACQ,YAAD,EAAeC,eAAf,IAAkC3C,KAAK,CAACkC,QAAN,CAAe,EAAf,CAAxC;AACA,QAAM,CAACU,UAAD,EAAaC,aAAb,IAA8B7C,KAAK,CAACkC,QAAN,CAAe,SAAf,CAApC;AAEAf,EAAAA,OAAO,CAAC2B,SAAR,CAAkB;AAChB1B,IAAAA,IAAI,EAAE;AACJ2B,MAAAA,MAAM,EAAEC,OAAO,CAACC,GAAR,CAAYC,oBADhB;AAEJC,MAAAA,UAAU,EAAEH,OAAO,CAACC,GAAR,CAAYG,0BAFpB;AAGJC,MAAAA,mBAAmB,EAAEL,OAAO,CAACC,GAAR,CAAYK;AAH7B;AADU,GAAlB;;AAQA,iBAAeC,YAAf,CAA4BC,KAA5B,EAAmC;AACjCA,IAAAA,KAAK,CAACC,cAAN;AACAlB,IAAAA,aAAa,CAAC,IAAD,CAAb;AACAF,IAAAA,WAAW,CAAC,KAAD,CAAX;AACAI,IAAAA,SAAS,CAAC,KAAD,CAAT;;AACA,QAAI;AACF,YAAMrB,IAAI,CAACsC,cAAL,CAAoB1B,KAApB,CAAN;AACAG,MAAAA,QAAQ,CAAC;AAAEwB,QAAAA,IAAI,EAAE,KAAR;AAAeC,QAAAA,kBAAkB,EAAE;AAAE5B,UAAAA,KAAK,EAAEA;AAAT;AAAnC,OAAD,CAAR;AACAD,MAAAA,OAAO,CAAC8B,IAAR,CAAa,uBAAb;AACD,KAJD,CAIE,OAAOC,KAAP,EAAc;AACdvB,MAAAA,aAAa,CAAC,KAAD,CAAb;AACAF,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAQ,MAAAA,aAAa,CAAC,OAAD,CAAb;AACAF,MAAAA,eAAe,CAACmB,KAAK,CAACC,OAAP,CAAf;AACAtB,MAAAA,SAAS,CAAC,IAAD,CAAT;AACD;AACF;;AAED,sBACE;AAAK,IAAA,SAAS,EAAEX,OAAO,CAACkC,SAAxB;AACK,IAAA,KAAK,EAAE;AAACC,MAAAA,OAAO,EAAC,MAAT;AAAiBC,MAAAA,MAAM,EAAC,GAAxB;AAA6BC,MAAAA,eAAe,EAAE,SAAO9C,aAAP,GAAqB,GAAnE;AAAwE+C,MAAAA,KAAK,EAAC,MAA9E;AAAqFC,MAAAA,MAAM,EAAC;AAA5F,KADZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,wBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,GAAT;AAAa,IAAA,EAAE,EAAC,GAAhB;AAAoB,IAAA,EAAE,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACC,MAAAA,KAAK,EAAC;AAAP,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE;AAACH,MAAAA,eAAe,EAAE,SAAO7C,kBAAP,GAA0B,GAA5C;AAAiDiD,MAAAA,gBAAgB,EAAC,WAAlE;AAAgFC,MAAAA,kBAAkB,EAAE,QAApG;AAA8GC,MAAAA,cAAc,EAAE,OAA9H;AAAuIL,MAAAA,KAAK,EAAC,OAA7I;AAAqJC,MAAAA,MAAM,EAAC;AAA5J,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAC,MAAjB;AAAwB,IAAA,KAAK,EAAE;AAACK,MAAAA,OAAO,EAAC,OAAT;AAAkBR,MAAAA,MAAM,EAAC,GAAzB;AAA8BS,MAAAA,SAAS,EAAC,MAAxC;AAAgDC,MAAAA,UAAU,EAAC;AAA3D,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,EAAE,EAAC,WAAV;AAAsB,IAAA,QAAQ,EAAErB,YAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,KAAK,EAAE;AAACsB,MAAAA,UAAU,EAAC,cAAZ;AAA2BC,MAAAA,SAAS,EAAC,QAArC;AAA+CC,MAAAA,KAAK,EAAE;AAAtD,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,eAEE;AAAG,IAAA,SAAS,EAAC,YAAb;AAA0B,IAAA,KAAK,EAAE;AAACF,MAAAA,UAAU,EAAC,iBAAZ;AAA8BC,MAAAA,SAAS,EAAC;AAAxC,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAFF,eAGE,oBAAC,WAAD;AAAa,IAAA,SAAS,EAAC,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,qBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADF,eAME,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,WAAW,EAAC,OAFd;AAGE,IAAA,YAAY,EAAC,OAHf;AAIE,IAAA,QAAQ,EAAEE,CAAC,IAAI/C,QAAQ,CAAC+C,CAAC,CAACC,MAAF,CAASC,KAAV,CAJzB;AAKE,IAAA,QAAQ,MALV;AAME,IAAA,KAAK,EAAElD,KANT;AAOE,IAAA,OAAO,EAAC,yCAPV;AAQE,IAAA,KAAK,EAAE;AAAC6C,MAAAA,UAAU,EAAC;AAAZ,KART;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CAHF,eAoBE,oBAAC,OAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,KAAK,MAFP;AAGE,IAAA,QAAQ,EAAEvC,UAHZ;AAIE,IAAA,KAAK,EAAE;AAACuC,MAAAA,UAAU,EAAC,iBAAZ;AAA+BM,MAAAA,UAAU,EAAC,SAA1C;AAAqDJ,MAAAA,KAAK,EAAC;AAA3D,KAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAME,oBAAC,QAAD;AACE,IAAA,IAAI,MADN;AAEE,IAAA,IAAI,EAAC,IAFP;AAGE,IAAA,SAAS,EAAC,OAHZ;AAIE,IAAA,MAAM,EAAE3C,QAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,2BApBF,CADF,CADF,CAJF,eA2CE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACkC,MAAAA,KAAK,EAAC,OAAP;AAAgBK,MAAAA,SAAS,EAAC,OAA1B;AAAmCS,MAAAA,WAAW,EAAC;AAA/C,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE;AAACN,MAAAA,SAAS,EAAC,QAAX;AAAqBX,MAAAA,eAAe,EAAE,SAAO5C,kBAAP,GAA0B,GAAhE;AAAqEgD,MAAAA,gBAAgB,EAAC,WAAtF;AAAoGC,MAAAA,kBAAkB,EAAE,QAAxH;AAAkIC,MAAAA,cAAc,EAAE,OAAlJ;AAA2JL,MAAAA,KAAK,EAAC,OAAjK;AAAyKC,MAAAA,MAAM,EAAC;AAAhL,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CA3CF,CADF,CADF,CAHF,eAsDE,oBAAC,QAAD;AACE,IAAA,YAAY,EAAE;AAAEgB,MAAAA,QAAQ,EAAE,KAAZ;AAAmBC,MAAAA,UAAU,EAAE;AAA/B,KADhB;AAEE,IAAA,IAAI,EAAE9C,KAFR;AAGE,IAAA,gBAAgB,EAAE,IAHpB;AAIE,IAAA,OAAO,EAAE,MAAM;AAAEC,MAAAA,SAAS,CAAC,KAAD,CAAT;AAAmB,KAJtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE,oBAAC,KAAD;AACE,IAAA,QAAQ,EAAEG,UADZ;AAEE,IAAA,MAAM,eACJ,oBAAC,OAAD;AAAU,MAAA,OAAO,EAAGoC,CAAD,IAAO;AAAEA,QAAAA,CAAC,CAACvB,cAAF;AAAqBhB,QAAAA,SAAS,CAAC,KAAD,CAAT;AAAmB,OAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAsE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtE,CAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMGC,YANH,CALF,CAtDF,CADF;AAuED","sourcesContent":["import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport {\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CCol,\r\n  CContainer,\r\n  CForm,\r\n  CInput,\r\n  CInputGroup,\r\n  CInputGroupPrepend,\r\n  CInputGroupText,\r\n  CRow,\r\n  CAlert,\r\n  CSpinner\r\n} from \"@coreui/react\";\r\n\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nimport CIcon from \"@coreui/icons-react\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Amplify, { Auth } from \"aws-amplify\";\r\n\r\nimport free_trial_bg from \"../../assets/images/home/free_trial_bg.png\"\r\nimport free_trial_circle1 from \"../../assets/images/home/free_trial_circle1.png\"\r\nimport free_trial_circle2 from \"../../assets/images/home/free_trial_circle2.png\"\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport styles from \"../../assets/material/jss/material-dashboard-pro-react/views/registerPageStyle\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} {...props} />;\r\n}\r\n\r\nexport default function EmailConfirmationPage() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const [isHidden, setIsHidden] = React.useState(true);\r\n  const [isDisabled, setIsDisabled] = React.useState(false);\r\n  const [toast, showToast] = React.useState(false);\r\n  const [toastMessage, setToastMessage] = React.useState('');\r\n  const [toastClass, setToastClass] = React.useState('success');\r\n\r\n  Amplify.configure({\r\n    Auth: {\r\n      region: process.env.REACT_APP_AWS_REGION,\r\n      userPoolId: process.env.REACT_APP_AWS_USER_POOL_ID,\r\n      userPoolWebClientId: process.env.REACT_APP_AWS_USER_POOL_CLIENT_ID\r\n    }\r\n  });\r\n\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n    setIsDisabled(true);\r\n    setIsHidden(false);\r\n    showToast(false);\r\n    try {\r\n      await Auth.forgotPassword(email);\r\n      dispatch({ type: \"set\", changePasswordUser: { email: email } });\r\n      history.push(\"/auth/change-password\");\r\n    } catch (error) {\r\n      setIsDisabled(false);\r\n      setIsHidden(true);\r\n      setToastClass('error');\r\n      setToastMessage(error.message);\r\n      showToast(true);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.container}\r\n         style={{padding:\"2rem\", margin:\"0\", backgroundImage: \"url(\"+free_trial_bg+\")\", width:\"100%\",height:\"100%\"}}\r\n    >\r\n      <CContainer>\r\n        <CRow className=\"justify-content-center\">\r\n          <CCol md=\"7\" lg=\"6\" xl=\"5\">\r\n            <CRow style={{float:\"left\"}}>\r\n              <CCardBody style={{backgroundImage: \"url(\"+free_trial_circle1+\")\", backgroundRepeat:'no-repeat',  backgroundPosition: 'center', backgroundSize: 'cover', width:\"100px\",height:\"100px\"}}/>\r\n            </CRow>\r\n            <CCard className=\"mx-4\" style={{display:\"block\", margin:\"0\", marginTop:\"30px\", marginLeft:\"60px\"}}>\r\n              <CCardBody className=\"p-4\">\r\n                <CForm id=\"EmailForm\" onSubmit={handleSubmit}>\r\n                  <h1 style={{fontFamily:\"Poppins-Bold\",textAlign:\"center\", color: \"#000\" }}>Forgot Password</h1>\r\n                  <p className=\"text-muted\" style={{fontFamily:\"Poppins-Regular\",textAlign:\"center\"}}>Enter registered email address.</p>\r\n                  <CInputGroup className=\"mb-3\">\r\n                    <CInputGroupPrepend>\r\n                      <CInputGroupText>\r\n                        <CIcon name=\"cil-envelope-closed\" />\r\n                      </CInputGroupText>\r\n                    </CInputGroupPrepend>\r\n                    <CInput\r\n                      type=\"email\"\r\n                      placeholder=\"Email\"\r\n                      autoComplete=\"email\"\r\n                      onChange={e => setEmail(e.target.value)}\r\n                      required\r\n                      value={email}\r\n                      pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\"\r\n                      style={{fontFamily:\"Poppins-Regular\"}}\r\n                    />\r\n                  </CInputGroup>\r\n                  <CButton\r\n                    type=\"submit\"\r\n                    block\r\n                    disabled={isDisabled}\r\n                    style={{fontFamily:\"Poppins-Regular\", background:\"#ff8b02\", color:\"#fff\"}}\r\n                  >\r\n                    <CSpinner\r\n                      grow\r\n                      size=\"sm\"\r\n                      className=\"mfe-1\"\r\n                      hidden={isHidden}\r\n                    />\r\n                    Send Verification Code\r\n                  </CButton>\r\n                </CForm>\r\n              </CCardBody>\r\n            </CCard>\r\n            <CRow style={{float:\"right\", marginTop:\"-70px\", marginRight:\"-10px\"}}>\r\n              <CCardBody style={{textAlign:\"bottom\", backgroundImage: \"url(\"+free_trial_circle2+\")\", backgroundRepeat:'no-repeat',  backgroundPosition: 'center', backgroundSize: 'cover', width:\"100px\",height:\"100px\"}}/>\r\n            </CRow>\r\n          </CCol>\r\n        </CRow>\r\n      </CContainer>\r\n      <Snackbar\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n        open={toast}\r\n        autoHideDuration={3000}\r\n        onClose={() => { showToast(false); }}>\r\n        <Alert\r\n          severity={toastClass}\r\n          action={\r\n            <CButton  onClick={(e) => { e.preventDefault();  showToast(false); }}><CIcon name=\"cil-x\" /></CButton>\r\n          }\r\n        >\r\n          {toastMessage}\r\n        </Alert>\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}