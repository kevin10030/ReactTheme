{"ast":null,"code":"var _jsxFileName = \"D:\\\\CSH\\\\A\\\\IoT\\\\Web\\\\Training\\\\trainingapp\\\\web\\\\src\\\\modules\\\\website\\\\UserProfilePage.js\";\nimport React from \"react\";\nimport axios from 'axios';\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport UserService from '../../services/UserService';\nimport { CButton, CCard, CCardBody, CCol, CContainer, CForm, CInput, CInputGroup, CInputGroupPrepend, CInputGroupText, CRow, CTextarea, CAlert, CSpinner, CLabel } from \"@coreui/react\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport CIcon from \"@coreui/icons-react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport styles from \"../../assets/material/jss/material-dashboard-pro-react/views/registerPageStyle\";\nconst useStyles = makeStyles(styles);\n\nfunction Alert(props) {\n  return /*#__PURE__*/React.createElement(MuiAlert, Object.assign({\n    elevation: 6\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 10\n    }\n  }));\n}\n\nexport default function UserProfilePage() {\n  const classes = useStyles();\n  const history = useHistory();\n  const [userId, setUserId] = React.useState('');\n  const [firstname, setFirstname] = React.useState('');\n  const [lastname, setLastname] = React.useState('');\n  const [email, setEmail] = React.useState('');\n  const [mobileNumber, setMobileNumber] = React.useState('');\n  const [company, setCompany] = React.useState('');\n  const [country, setCountry] = React.useState('');\n  const [state, setState] = React.useState('');\n  const [city, setCity] = React.useState('');\n  const [address, setAddress] = React.useState('');\n  const [pincode, setPincode] = React.useState('');\n  const [isHidden, setIsHidden] = React.useState(true);\n  const [isDisabled, setIsDisabled] = React.useState(false);\n  const [toast, showToast] = React.useState(false);\n  const [toastMessage, setToastMessage] = React.useState(\"\");\n  const [toastClass, setToastClass] = React.useState(\"success\");\n  React.useEffect(() => {\n    var jsonUser = localStorage.getItem(\"loginUser\");\n\n    if (jsonUser) {\n      var loginUser = JSON.parse(jsonUser);\n      setUser(loginUser);\n    } else {\n      history.push(\"/auth/login-page\");\n    }\n  }, []);\n\n  const setUser = async loginUser => {\n    setUserId(loginUser.userId);\n    setEmail(loginUser.email);\n    setFirstname(loginUser.firstname);\n    setLastname(loginUser.lastname);\n    setCompany(loginUser.company);\n    setState(loginUser.state);\n    setCountry(loginUser.country);\n    setCity(loginUser.city);\n    setAddress(loginUser.address);\n    setMobileNumber(loginUser.mobilenumber);\n    setPincode(loginUser.pincode);\n  };\n\n  const getUser = async () => {\n    await axios({\n      url: process.env.REACT_APP_AWS_API_ENDPOINT + '/user',\n      method: 'get',\n      headers: {\n        'user-email': email\n      }\n    }).then(response => response.data).then(data => {\n      if (data && data.length > 0) {\n        var exUser = data[0];\n        setUser(exUser);\n        localStorage.setItem('loginUser', JSON.stringify(exUser));\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    setIsDisabled(true);\n    setIsHidden(false);\n    showToast(false);\n    UserService.createUser({\n      userId: userId,\n      email: email,\n      firstname: firstname,\n      lastname: lastname,\n      mobileNumber: mobileNumber,\n      company: company,\n      country: country,\n      state: state,\n      city: city,\n      address: address,\n      pincode: pincode\n    }, res => {\n      getUser();\n      setToastClass('success');\n      setToastMessage(res);\n      showToast(true);\n      setIsDisabled(false);\n      setIsHidden(true);\n    }, err => {\n      setToastClass('error');\n      setToastMessage(err);\n      showToast(true);\n      setIsDisabled(false);\n      setIsHidden(true);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CRow, {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CCol, {\n    md: \"9\",\n    lg: \"8\",\n    xl: \"7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CCard, {\n    className: \"mx-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CCardBody, {\n    className: \"p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CForm, {\n    id: \"userProfile\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      color: \"#3c4b64\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 19\n    }\n  }, \"Personal Details\"), /*#__PURE__*/React.createElement(CRow, {\n    className: \"justify-content-center mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CCol, {\n    md: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupPrepend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 27\n    }\n  }, \"First Name\")), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    placeholder: \"First Name\",\n    autoComplete: \"firstname\",\n    onChange: e => setFirstname(e.target.value),\n    required: true,\n    value: firstname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(CCol, {\n    md: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupPrepend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 27\n    }\n  }, \"Last Name\")), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    placeholder: \"Last Name\",\n    autoComplete: \"lastname\",\n    onChange: e => setLastname(e.target.value),\n    required: true,\n    value: lastname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(CRow, {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CCol, {\n    md: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupPrepend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 27\n    }\n  }, \"Email\")), /*#__PURE__*/React.createElement(CInput, {\n    type: \"email\",\n    value: email,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(CCol, {\n    md: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupPrepend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 27\n    }\n  }, \"Mobile\")), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    placeholder: \"Mobile Number\",\n    onChange: e => setMobileNumber(e.target.value),\n    value: mobileNumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(CRow, {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CCol, {\n    md: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupPrepend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 27\n    }\n  }, \"Company\")), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    id: \"company\",\n    placeholder: \"Company Name\",\n    onChange: e => setCompany(e.target.value),\n    value: company,\n    autoComplete: \"company-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(CCol, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupPrepend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 27\n    }\n  }, \"City\")), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    id: \"city\",\n    placeholder: \"City\",\n    onChange: e => setCity(e.target.value),\n    value: city,\n    autoComplete: \"city\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(CRow, {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CCol, {\n    md: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupPrepend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 27\n    }\n  }, \"State\")), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    id: \"state\",\n    placeholder: \"State / Province\",\n    autoComplete: \"state\",\n    onChange: e => setState(e.target.value),\n    value: state,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(CCol, {\n    md: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupPrepend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 27\n    }\n  }, \"Country\")), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    id: \"country\",\n    placeholder: \"Country\",\n    autoComplete: \"country\",\n    onChange: e => setCountry(e.target.value),\n    value: country,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupPrepend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 23\n    }\n  }, \"Address\")), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    id: \"address\",\n    placeholder: \"Address\",\n    autoComplete: \"address\",\n    onChange: e => setAddress(e.target.value),\n    value: address,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupPrepend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 23\n    }\n  }, \"PIN Code\")), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    id: \"pincode\",\n    placeholder: \"PIN Code\",\n    autoComplete: \"pincode\",\n    onChange: e => setPincode(e.target.value),\n    value: pincode,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(CButton, {\n    type: \"submit\",\n    color: \"primary\",\n    block: true,\n    disabled: isDisabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CSpinner, {\n    grow: true,\n    size: \"sm\",\n    className: \"mfe-1\",\n    hidden: isHidden,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 21\n    }\n  }), \"Update\"))))))), /*#__PURE__*/React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: \"top\",\n      horizontal: \"center\"\n    },\n    open: toast,\n    autoHideDuration: 3000,\n    onClose: () => {\n      showToast(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    severity: toastClass,\n    action: /*#__PURE__*/React.createElement(CButton, {\n      onClick: e => {\n        e.preventDefault();\n        showToast(false);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CIcon, {\n      name: \"cil-x\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 15\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 9\n    }\n  }, toastMessage)));\n}","map":{"version":3,"sources":["D:/CSH/A/IoT/Web/Training/trainingapp/web/src/modules/website/UserProfilePage.js"],"names":["React","axios","useSelector","useHistory","UserService","CButton","CCard","CCardBody","CCol","CContainer","CForm","CInput","CInputGroup","CInputGroupPrepend","CInputGroupText","CRow","CTextarea","CAlert","CSpinner","CLabel","MuiAlert","Snackbar","CIcon","makeStyles","styles","useStyles","Alert","props","UserProfilePage","classes","history","userId","setUserId","useState","firstname","setFirstname","lastname","setLastname","email","setEmail","mobileNumber","setMobileNumber","company","setCompany","country","setCountry","state","setState","city","setCity","address","setAddress","pincode","setPincode","isHidden","setIsHidden","isDisabled","setIsDisabled","toast","showToast","toastMessage","setToastMessage","toastClass","setToastClass","useEffect","jsonUser","localStorage","getItem","loginUser","JSON","parse","setUser","push","mobilenumber","getUser","url","process","env","REACT_APP_AWS_API_ENDPOINT","method","headers","then","response","data","length","exUser","setItem","stringify","catch","error","console","log","handleSubmit","event","preventDefault","createUser","res","err","container","color","e","target","value","vertical","horizontal"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport axios from 'axios';\r\n\r\nimport { useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport UserService from '../../services/UserService';\r\n\r\nimport { CButton, CCard, CCardBody, CCol, CContainer, CForm, CInput, CInputGroup, CInputGroupPrepend,\r\n         CInputGroupText, CRow, CTextarea, CAlert, CSpinner, CLabel } from \"@coreui/react\";\r\n\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\n\r\nimport CIcon from \"@coreui/icons-react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport styles from \"../../assets/material/jss/material-dashboard-pro-react/views/registerPageStyle\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} {...props} />;\r\n}\r\n\r\nexport default function UserProfilePage() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [userId, setUserId] = React.useState('');\r\n  const [firstname, setFirstname] = React.useState('');\r\n  const [lastname, setLastname] = React.useState('');\r\n  const [email, setEmail] = React.useState('');\r\n  const [mobileNumber, setMobileNumber] = React.useState('');\r\n  const [company, setCompany] = React.useState('');\r\n  const [country, setCountry] = React.useState('');\r\n  const [state, setState] = React.useState('');\r\n  const [city, setCity] = React.useState('');\r\n  const [address, setAddress] = React.useState('');\r\n  const [pincode, setPincode] = React.useState('');\r\n  const [isHidden, setIsHidden] = React.useState(true);\r\n  const [isDisabled, setIsDisabled] = React.useState(false);\r\n  const [toast, showToast] = React.useState(false);\r\n  const [toastMessage, setToastMessage] = React.useState(\"\");\r\n  const [toastClass, setToastClass] = React.useState(\"success\");\r\n\r\n  React.useEffect(() => {\r\n    var jsonUser = localStorage.getItem(\"loginUser\");\r\n    if (jsonUser) {\r\n      var loginUser = JSON.parse(jsonUser);\r\n      setUser(loginUser);\r\n    } else {\r\n      history.push(\"/auth/login-page\");\r\n    }\r\n  }, []);\r\n\r\n  const setUser = async (loginUser) => {\r\n    setUserId(loginUser.userId); setEmail(loginUser.email);\r\n    setFirstname(loginUser.firstname); setLastname(loginUser.lastname);\r\n    setCompany(loginUser.company); setState(loginUser.state);\r\n    setCountry(loginUser.country); setCity(loginUser.city);\r\n    setAddress(loginUser.address); setMobileNumber(loginUser.mobilenumber);\r\n    setPincode(loginUser.pincode);\r\n  };\r\n\r\n  const getUser = async () => {\r\n    await axios({\r\n      url: process.env.REACT_APP_AWS_API_ENDPOINT + '/user',\r\n      method: 'get',\r\n      headers: {\r\n        'user-email': email\r\n      }\r\n    }).then(response => response.data).then((data) => {\r\n      if(data && data.length > 0) {\r\n        var exUser = data[0];\r\n        setUser(exUser);\r\n        localStorage.setItem('loginUser', JSON.stringify(exUser));\r\n      }\r\n    }).catch(error => {\r\n      console.log(error);\r\n    });\r\n  };\r\n\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n    setIsDisabled(true);\r\n    setIsHidden(false);\r\n    showToast(false);\r\n\r\n    UserService.createUser({\r\n      userId: userId,\r\n      email: email,\r\n      firstname: firstname,\r\n      lastname: lastname,\r\n      mobileNumber: mobileNumber,\r\n      company: company,\r\n      country: country,\r\n      state: state,\r\n      city: city,\r\n      address: address,\r\n      pincode: pincode\r\n    }, (res) => {\r\n      getUser();\r\n      setToastClass('success');\r\n      setToastMessage(res);\r\n      showToast(true);\r\n      setIsDisabled(false);\r\n      setIsHidden(true);\r\n    }, (err) => {\r\n      setToastClass('error');\r\n      setToastMessage(err);\r\n      showToast(true);\r\n      setIsDisabled(false);\r\n      setIsHidden(true);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <CContainer>\r\n        <CRow className=\"justify-content-center\">\r\n          <CCol md=\"9\" lg=\"8\" xl=\"7\">\r\n            <CCard className=\"mx-4\">\r\n              <CCardBody className=\"p-4\">\r\n                <CForm id=\"userProfile\" onSubmit={handleSubmit}>\r\n                  <h1 style={{ color: \"#3c4b64\" }}>Personal Details</h1>\r\n                  <CRow className=\"justify-content-center mt-2\">\r\n                    <CCol md=\"6\">\r\n                      <CInputGroup className=\"mb-3\">\r\n                        <CInputGroupPrepend>\r\n                          <CInputGroupText>First Name</CInputGroupText>\r\n                        </CInputGroupPrepend>\r\n                        <CInput type=\"text\" placeholder=\"First Name\" autoComplete=\"firstname\"\r\n                          onChange={e => setFirstname(e.target.value)}\r\n                          required\r\n                          value={firstname}\r\n                        />\r\n                      </CInputGroup>\r\n                    </CCol>\r\n                    <CCol md=\"6\">\r\n                      <CInputGroup className=\"mb-3\">\r\n                        <CInputGroupPrepend>\r\n                          <CInputGroupText>Last Name</CInputGroupText>\r\n                        </CInputGroupPrepend>\r\n                        <CInput type=\"text\" placeholder=\"Last Name\" autoComplete=\"lastname\"\r\n                          onChange={e => setLastname(e.target.value)}\r\n                          required\r\n                          value={lastname}\r\n                        />\r\n                      </CInputGroup>\r\n                    </CCol>\r\n                  </CRow>\r\n                  <CRow className=\"justify-content-center\">\r\n                    <CCol md=\"6\">\r\n                      <CInputGroup className=\"mb-3\">\r\n                        <CInputGroupPrepend>\r\n                          <CInputGroupText>Email</CInputGroupText>\r\n                        </CInputGroupPrepend>\r\n                        <CInput type=\"email\" value={email} disabled />\r\n                      </CInputGroup>\r\n                    </CCol>\r\n                    <CCol md=\"6\">\r\n                      <CInputGroup className=\"mb-3\">\r\n                        <CInputGroupPrepend>\r\n                          <CInputGroupText>Mobile</CInputGroupText>\r\n                        </CInputGroupPrepend>\r\n                        <CInput type=\"text\" placeholder=\"Mobile Number\"\r\n                          onChange={e => setMobileNumber(e.target.value)}\r\n                          value={mobileNumber}\r\n                        />\r\n                      </CInputGroup>\r\n                    </CCol>\r\n                  </CRow>\r\n                  <CRow className=\"justify-content-center\">\r\n                    <CCol md=\"6\">\r\n                      <CInputGroup className=\"mb-3\">\r\n                        <CInputGroupPrepend>\r\n                          <CInputGroupText>Company</CInputGroupText>\r\n                        </CInputGroupPrepend>\r\n                        <CInput type=\"text\" id=\"company\" placeholder=\"Company Name\"\r\n                          onChange={e => setCompany(e.target.value)}\r\n                          value={company}\r\n                          autoComplete=\"company-name\"\r\n                        />\r\n                      </CInputGroup>\r\n                    </CCol>\r\n                    <CCol>\r\n                      <CInputGroup className=\"mb-3\">\r\n                        <CInputGroupPrepend>\r\n                          <CInputGroupText>City</CInputGroupText>\r\n                        </CInputGroupPrepend>\r\n                        <CInput type=\"text\" id=\"city\" placeholder=\"City\"\r\n                          onChange={e => setCity(e.target.value)}\r\n                          value={city}\r\n                          autoComplete=\"city\"\r\n                          required\r\n                        />\r\n                      </CInputGroup>\r\n                    </CCol>\r\n                  </CRow>\r\n                  <CRow className=\"justify-content-center\">\r\n                    <CCol md=\"6\">\r\n                      <CInputGroup className=\"mb-3\">\r\n                        <CInputGroupPrepend>\r\n                          <CInputGroupText>State</CInputGroupText>\r\n                        </CInputGroupPrepend>\r\n                        <CInput type=\"text\" id=\"state\" placeholder=\"State / Province\"\r\n                          autoComplete=\"state\"\r\n                          onChange={e => setState(e.target.value)}\r\n                          value={state}\r\n                        />\r\n                      </CInputGroup>\r\n                    </CCol>\r\n                    <CCol md=\"6\">\r\n                      <CInputGroup className=\"mb-3\">\r\n                        <CInputGroupPrepend>\r\n                          <CInputGroupText>Country</CInputGroupText>\r\n                        </CInputGroupPrepend>\r\n                        <CInput type=\"text\" id=\"country\" placeholder=\"Country\"\r\n                          autoComplete=\"country\"\r\n                          onChange={e => setCountry(e.target.value)}\r\n                          value={country}\r\n                          required\r\n                        />\r\n                      </CInputGroup>\r\n                    </CCol>\r\n                  </CRow>\r\n                  <CInputGroup className=\"mb-3\">\r\n                    <CInputGroupPrepend>\r\n                      <CInputGroupText>Address</CInputGroupText>\r\n                    </CInputGroupPrepend>\r\n                    <CInput type=\"text\" id=\"address\" placeholder=\"Address\"\r\n                      autoComplete=\"address\"\r\n                      onChange={e => setAddress(e.target.value)}\r\n                      value={address}\r\n                      required\r\n                    />\r\n                  </CInputGroup>\r\n                  <CInputGroup className=\"mb-3\">\r\n                    <CInputGroupPrepend>\r\n                      <CInputGroupText>PIN Code</CInputGroupText>\r\n                    </CInputGroupPrepend>\r\n                    <CInput type=\"text\" id=\"pincode\" placeholder=\"PIN Code\"\r\n                      autoComplete=\"pincode\"\r\n                      onChange={e => setPincode(e.target.value)}\r\n                      value={pincode}\r\n                      required\r\n                    />\r\n                  </CInputGroup>\r\n                  <CButton type=\"submit\" color=\"primary\" block disabled={isDisabled}>\r\n                    <CSpinner grow size=\"sm\" className=\"mfe-1\" hidden={isHidden} />\r\n                    Update\r\n                  </CButton>\r\n                </CForm>\r\n              </CCardBody>\r\n            </CCard>\r\n          </CCol>\r\n        </CRow>\r\n      </CContainer>\r\n      <Snackbar\r\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n        open={toast}\r\n        autoHideDuration={3000}\r\n        onClose={() => { showToast(false); }}\r\n      >\r\n        <Alert severity={toastClass}\r\n          action={\r\n            <CButton\r\n              onClick={e => {\r\n                e.preventDefault();\r\n                showToast(false);\r\n              }}\r\n            >\r\n              <CIcon name=\"cil-x\" />\r\n            </CButton>\r\n          }\r\n        >\r\n          {toastMessage}\r\n        </Alert>\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}