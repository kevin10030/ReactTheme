{"ast":null,"code":"var _jsxFileName = \"D:\\\\CSH\\\\A\\\\IoT\\\\Web\\\\trainingapp\\\\web\\\\trainingapp\\\\src\\\\components\\\\Views\\\\Devicemanagement\\\\DeviceCommandHistory.jsx\";\nimport React, { Component } from 'react';\nimport { CButton, CCard, CCardBody, CCardHeader, CCol, CCollapse, CRow, CListGroup, CListGroupItem, CBadge, CDataTable, CAlert, CFormGroup, CInputCheckbox, CLabel, CInput } from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\nimport { Link } from 'react-router-dom';\nimport usersData from './UsersData.js';\nexport default function DeviceCommandHistory() {\n  const {\n    useState\n  } = React;\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState(true);\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  };\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [currentPagination, setCurrentPagination] = useState(5);\n\n  const getLastVal = currentPage => {\n    if (currentPage * currentPagination < usersData.length) return currentPage * currentPagination;\n    return usersData.length;\n  };\n\n  const [details, setDetails] = useState([]);\n\n  const toggleDetails = index => {\n    const position = details.indexOf(index);\n    let newDetails = details.slice();\n\n    if (position !== -1) {\n      newDetails.splice(position, 1);\n    } else {\n      newDetails = [...details, index];\n    }\n\n    setDetails(newDetails);\n  };\n\n  const fields = [{\n    key: 'check_device',\n    label: '',\n    _style: {\n      width: '1%'\n    },\n    sorter: false,\n    filter: false\n  }, {\n    key: 'IMEI',\n    _style: {\n      width: '30%'\n    }\n  }, {\n    key: 'DeviceType',\n    _style: {\n      width: '30%'\n    }\n  }, {\n    key: 'Status',\n    _style: {\n      width: '20%'\n    }\n  }, {\n    key: 'HeartBeats',\n    _style: {\n      width: '20%'\n    }\n  }];\n\n  const getBadge = status => {\n    switch (status) {\n      case 'Online':\n        return 'success';\n\n      case 'Offline':\n        return 'secondary';\n\n      default:\n        return 'secondary';\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"animated fadeIn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CCol, {\n    xl: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CCard, {\n    custom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CCardHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, \"Monitor\"), /*#__PURE__*/React.createElement(CCardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CDataTable, {\n    items: usersData,\n    fields: fields // columnFilter\n    ,\n    tableFilter: true // footer\n    ,\n    itemsPerPageSelect: true,\n    itemsPerPage: currentPagination,\n    dark: false,\n    hover: false,\n    border: true,\n    outlined: true,\n    loading: false,\n    sorter: true // clickableRows\n    ,\n    pagination: {\n      doubleArrows: true,\n      align: 'center'\n    } // loading\n    // onRowClick={(item,index,col,e) => console.log(item,index,col,e)}\n    ,\n    onPageChange: val => {\n      console.log('new page:', val);\n      setCurrentPage(val);\n    },\n    onPagesChange: val => console.log('new pages:', val),\n    onPaginationChange: val => {\n      console.log('new pagination:', val);\n      setCurrentPagination(val);\n    } // onFilteredItemsChange={(val) => console.log('new filtered items:', val)}\n    // onSorterValueChange={(val) => console.log('new sorter value:', val)}\n    // onTableFilterChange={(val) => console.log('new table filter:', val)}\n    // onColumnFilterChange={(val) => console.log('new column filter:', val)}\n    ,\n    scopedSlots: {\n      'IMEI': item => /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: '/modules/devicemanagement/dashboard/history',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 25\n        }\n      }, item.IMEI)),\n      'Status': item => /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(CBadge, {\n        color: getBadge(item.Status),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 23\n        }\n      }, item.Status)),\n      'check_device': item => {\n        return /*#__PURE__*/React.createElement(\"td\", {\n          className: \"py-2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(CFormGroup, {\n          variant: \"checkbox\",\n          className: \"checkbox\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(CInputCheckbox, {\n          id: 'checkbox' + item.id,\n          name: 'checkbox' + item.id,\n          value: 'checkbox' + item.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 27\n          }\n        })));\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'right'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, (currentPage - 1) * currentPagination + 1 + '-' + getLastVal(currentPage) + ' of ' + usersData.length))))));\n}","map":{"version":3,"sources":["D:/CSH/A/IoT/Web/trainingapp/web/trainingapp/src/components/Views/Devicemanagement/DeviceCommandHistory.jsx"],"names":["React","Component","CButton","CCard","CCardBody","CCardHeader","CCol","CCollapse","CRow","CListGroup","CListGroupItem","CBadge","CDataTable","CAlert","CFormGroup","CInputCheckbox","CLabel","CInput","CIcon","Link","usersData","DeviceCommandHistory","useState","classes","useStyles","expanded","setExpanded","handleExpandClick","currentPage","setCurrentPage","currentPagination","setCurrentPagination","getLastVal","length","details","setDetails","toggleDetails","index","position","indexOf","newDetails","slice","splice","fields","key","label","_style","width","sorter","filter","getBadge","status","doubleArrows","align","val","console","log","item","IMEI","Status","id","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport {\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CCollapse,\r\n  CRow,CListGroup, CListGroupItem, CBadge, CDataTable, CAlert,CFormGroup,CInputCheckbox,CLabel,CInput\r\n} from '@coreui/react';\r\nimport CIcon from '@coreui/icons-react'\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport usersData from './UsersData.js'\r\n\r\nexport default function DeviceCommandHistory() {\r\n  const { useState } = React;\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = React.useState(true);\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [currentPagination, setCurrentPagination] = useState(5)\r\n  const getLastVal=(currentPage)=>{\r\n    if(currentPage*currentPagination < usersData.length)\r\n      return currentPage*currentPagination;\r\n    return usersData.length;\r\n  }\r\n\r\n  const [details, setDetails] = useState([])\r\n  const toggleDetails = (index) => {\r\n    const position = details.indexOf(index)\r\n    let newDetails = details.slice()\r\n    if (position !== -1) {\r\n      newDetails.splice(position, 1)\r\n    } else {\r\n      newDetails = [...details, index]\r\n    } \r\n    setDetails(newDetails)\r\n  }\r\n\r\n  const fields = [\r\n    {\r\n      key: 'check_device',\r\n      label: '',\r\n      _style: { width: '1%' },\r\n      sorter: false,\r\n      filter: false\r\n    },\r\n    { key: 'IMEI', _style: { width: '30%'} },        \r\n    { key: 'DeviceType', _style: { width: '30%'} },\r\n    { key: 'Status', _style: { width: '20%'} },\r\n    { key: 'HeartBeats', _style: { width: '20%'} },\r\n  ]\r\n\r\n  const getBadge = (status)=>{\r\n    switch (status) {\r\n      case 'Online': return 'success'\r\n      case 'Offline': return 'secondary'\r\n      default: return 'secondary'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"animated fadeIn\">\r\n      <CRow> \r\n        <CCol xl=\"12\">\r\n          <CCard custom>\r\n            <CCardHeader>\r\n              Monitor\r\n            </CCardHeader>\r\n            <CCardBody>         \r\n            <CDataTable\r\n              items={usersData}\r\n              fields={fields}\r\n              // columnFilter\r\n              tableFilter\r\n              // footer\r\n              itemsPerPageSelect\r\n              itemsPerPage={currentPagination}\r\n              dark={false}\r\n              hover={false}\r\n              border={true}\r\n              outlined={true}\r\n              loading={false}\r\n              sorter\r\n              // clickableRows\r\n              pagination={{ doubleArrows: true, align: 'center' }}\r\n              // loading\r\n              // onRowClick={(item,index,col,e) => console.log(item,index,col,e)}\r\n              onPageChange={(val) => {\r\n                  console.log('new page:', val);\r\n                  setCurrentPage(val)\r\n                }\r\n              }\r\n              onPagesChange={(val) => \r\n                console.log('new pages:', val)\r\n              }\r\n              onPaginationChange={(val) => {\r\n                console.log('new pagination:', val);\r\n                setCurrentPagination(val);\r\n              }}\r\n              // onFilteredItemsChange={(val) => console.log('new filtered items:', val)}\r\n              // onSorterValueChange={(val) => console.log('new sorter value:', val)}\r\n              // onTableFilterChange={(val) => console.log('new table filter:', val)}\r\n              // onColumnFilterChange={(val) => console.log('new column filter:', val)}\r\n              scopedSlots = {{\r\n                'IMEI':\r\n                  (item)=>(\r\n                    <td>\r\n                        <Link to={'/modules/devicemanagement/dashboard/history'}>{item.IMEI}</Link>\r\n                    </td>\r\n                  ),\r\n                'Status':\r\n                  (item)=>(\r\n                    <td>\r\n                      <CBadge color={getBadge(item.Status)}>\r\n                        {item.Status}\r\n                      </CBadge>\r\n                    </td>\r\n                  ),\r\n                'check_device':\r\n                  item => {\r\n                    return (\r\n                      <td className=\"py-2\">\r\n                        <CFormGroup variant=\"checkbox\" className=\"checkbox\">\r\n                          <CInputCheckbox id={'checkbox'+item.id} name={'checkbox'+item.id} value={'checkbox'+item.id} />\r\n                        </CFormGroup>                      \r\n                      </td>\r\n                    )\r\n                  }\r\n              }}\r\n            />\r\n            <div style={{textAlign:'right'}}>{              \r\n              ((currentPage-1)*currentPagination+1) + '-' + getLastVal(currentPage) +' of '+usersData.length\r\n              } \r\n            </div>\r\n          </CCardBody>\r\n          </CCard>\r\n        </CCol>      \r\n      </CRow>\r\n    </div>      \r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}