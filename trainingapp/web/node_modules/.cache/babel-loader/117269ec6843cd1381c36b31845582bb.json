{"ast":null,"code":"var _jsxFileName = \"D:\\\\CSH\\\\A\\\\IoT\\\\Web\\\\trainingapp\\\\web\\\\trainingapp\\\\src\\\\components\\\\Views\\\\Admin\\\\Categories.jsx\";\nimport React from 'react';\nimport { useTheme, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport axios from 'axios';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport SaveIcon from '@material-ui/icons/Save';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nfunction Alert(props) {\n  return /*#__PURE__*/React.createElement(MuiAlert, Object.assign({\n    elevation: 6\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 10\n    }\n  }));\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  dataTable: {\n    marginTop: theme.spacing(3)\n  }\n}));\nexport default function Categories() {\n  const theme = useTheme();\n  const classes = useStyles();\n  const [categoryList, setCategoryList] = React.useState([]);\n  const [categoryName, setCategoryName] = React.useState('');\n  const [parent, setParent] = React.useState(0);\n  const [toast, showToast] = React.useState(false);\n  const [toastMessage, setToastMessage] = React.useState('');\n  const [toastClass, setToastClass] = React.useState('success');\n  React.useEffect(() => {\n    getCategoryList();\n  }, []);\n\n  const getCategoryList = async () => {\n    const dataList = await axios({\n      url: 'https://hfa3ovai45.execute-api.us-east-2.amazonaws.com/api/category',\n      method: 'get'\n    }).then(response => response.data).then(data => {\n      return data;\n    });\n\n    if (dataList) {\n      setCategoryList(dataList);\n    }\n  };\n\n  function deleteCategory(categoryId) {\n    axios({\n      url: 'https://hfa3ovai45.execute-api.us-east-2.amazonaws.com/api/category',\n      method: 'delete',\n      data: {\n        'categoryId': categoryId\n      },\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => response.data).then(data => {\n      setToastClass('success');\n      setToastMessage('Success: ' + data);\n      showToast(true);\n    });\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    axios({\n      url: 'https://hfa3ovai45.execute-api.us-east-2.amazonaws.com/api/category',\n      method: 'post',\n      data: {\n        'name': categoryName,\n        'parent': parent\n      },\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => response.data).then(data => {\n      setToastClass('success');\n      setToastMessage('Success: ' + data);\n      showToast(true);\n      setCategoryName('');\n      setParent(0);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 7,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    p: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"h3\",\n    variant: \"h6\",\n    color: \"primary\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, \"Categories\"), /*#__PURE__*/React.createElement(Table, {\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    style: {\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }, \"Category Name\"), /*#__PURE__*/React.createElement(TableCell, {\n    style: {\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }, \"Parent Category\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, categoryList.map(category => /*#__PURE__*/React.createElement(TableRow, {\n    key: category.categoryId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 23\n    }\n  }, category.name), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 23\n    }\n  }, category.parent !== 0 && categoryList.find(pCat => pCat.categoryId === category.parent).name), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    size: \"small\",\n    \"aria-label\": \"Delete\",\n    onClick: e => {\n      e.preventDefault();\n      deleteCategory(category.categoryId);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(DeleteIcon, {\n    fontSize: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 27\n    }\n  })))))))))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    p: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"h3\",\n    variant: \"h6\",\n    color: \"primary\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 15\n    }\n  }, \"Add Category\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.root,\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: \"Category Name\",\n    id: \"categoryName\",\n    variant: \"outlined\",\n    size: \"small\",\n    onChange: e => setCategoryName(e.target.value),\n    required: true,\n    fullWidth: true,\n    value: categoryName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    mt: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    fullWidth: true,\n    size: \"small\",\n    variant: \"outlined\",\n    className: classes.formControl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    id: \"parentLabel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 19\n    }\n  }, \"Parent Category\"), /*#__PURE__*/React.createElement(Select, {\n    labelId: \"parentLabel\",\n    id: \"parent\",\n    label: \"Parent Category\",\n    onChange: e => setParent(e.target.value),\n    value: parent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 21\n    }\n  }, \"None\"), categoryList.map(category => /*#__PURE__*/React.createElement(MenuItem, {\n    value: category.categoryId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 23\n    }\n  }, category.name))))), /*#__PURE__*/React.createElement(Box, {\n    mt: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(SaveIcon, {\n    fontSize: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 19\n    }\n  }), \" \\xA0 Save\")))))), /*#__PURE__*/React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'center'\n    },\n    open: toast,\n    autoHideDuration: 3000,\n    onClose: () => {\n      showToast(false);\n      getCategoryList();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    severity: toastClass,\n    action: /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"close\",\n      color: \"inherit\",\n      size: \"small\",\n      onClick: () => {\n        showToast(false);\n        getCategoryList();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CloseIcon, {\n      fontSize: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 19\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }, toastMessage)))));\n}","map":{"version":3,"sources":["D:/CSH/A/IoT/Web/trainingapp/web/trainingapp/src/components/Views/Admin/Categories.jsx"],"names":["React","useTheme","makeStyles","Table","TableBody","TableCell","TableHead","TableRow","Button","Grid","axios","TextField","Paper","FormControl","Select","InputLabel","MuiAlert","IconButton","CloseIcon","MenuItem","Box","Typography","SaveIcon","Snackbar","DeleteIcon","Alert","props","useStyles","theme","root","flexGrow","dataTable","marginTop","spacing","Categories","classes","categoryList","setCategoryList","useState","categoryName","setCategoryName","parent","setParent","toast","showToast","toastMessage","setToastMessage","toastClass","setToastClass","useEffect","getCategoryList","dataList","url","method","then","response","data","deleteCategory","categoryId","headers","handleSubmit","event","preventDefault","paper","fontWeight","map","category","name","find","pCat","e","target","value","formControl","vertical","horizontal"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useTheme, makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport axios from 'axios';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} {...props} />;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  dataTable: {\r\n    marginTop: theme.spacing(3)\r\n  }\r\n}));\r\n\r\nexport default function Categories() {\r\n  const theme = useTheme();\r\n  const classes = useStyles();\r\n  const [categoryList, setCategoryList] = React.useState([]);\r\n  const [categoryName, setCategoryName] = React.useState('');\r\n  const [parent, setParent] = React.useState(0);\r\n  const [toast, showToast] = React.useState(false);\r\n  const [toastMessage, setToastMessage] = React.useState('');\r\n  const [toastClass, setToastClass] = React.useState('success');\r\n\r\n  React.useEffect(() => {\r\n    getCategoryList();\r\n  }, []);\r\n\r\n  const getCategoryList = async () => {\r\n    const dataList = await axios({\r\n      url: 'https://hfa3ovai45.execute-api.us-east-2.amazonaws.com/api/category',\r\n      method: 'get'\r\n    }).then(response => response.data).then((data) => {\r\n      return data;\r\n    });\r\n    if(dataList) { setCategoryList(dataList); }\r\n  };\r\n\r\n  function deleteCategory(categoryId) {\r\n    axios({\r\n      url: 'https://hfa3ovai45.execute-api.us-east-2.amazonaws.com/api/category',\r\n      method: 'delete',\r\n      data: {\r\n        'categoryId': categoryId\r\n      },\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    }).then(response => response.data).then((data) => {\r\n      setToastClass('success');\r\n      setToastMessage('Success: ' + data);\r\n      showToast(true);\r\n    });\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    axios({\r\n      url: 'https://hfa3ovai45.execute-api.us-east-2.amazonaws.com/api/category',\r\n      method: 'post',\r\n      data: {\r\n        'name': categoryName,\r\n        'parent': parent\r\n      },\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    }).then(response => response.data).then((data) => {\r\n      setToastClass('success');\r\n      setToastMessage('Success: ' + data);\r\n      showToast(true);\r\n      setCategoryName('');\r\n      setParent(0);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {/* <div className={classes.root}> */}\r\n      <div className={classes.root}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={7}>\r\n            <Paper className={classes.paper}>\r\n            <Box p={2}>\r\n            <Typography component=\"h3\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n              Categories\r\n            </Typography>\r\n              <Table size=\"small\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell style={{fontWeight:'bold'}}>Category Name</TableCell>\r\n                    <TableCell style={{fontWeight:'bold'}}>Parent Category</TableCell>\r\n                    <TableCell></TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {categoryList.map((category) => (\r\n                    <TableRow key={category.categoryId}>\r\n                      <TableCell>{category.name}</TableCell>\r\n                      <TableCell>\r\n                        { category.parent !== 0 &&\r\n                          categoryList.find(pCat => pCat.categoryId === category.parent).name\r\n                        }\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">\r\n                        <IconButton size=\"small\" aria-label=\"Delete\" onClick={(e) => { e.preventDefault(); deleteCategory(category.categoryId); }}>\r\n                          <DeleteIcon fontSize=\"small\" />\r\n                        </IconButton>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n              </Box>\r\n            </Paper>\r\n          </Grid>\r\n          <Grid item xs={12} sm={5}>\r\n            <Paper className={classes.paper}>\r\n            <Box p={2}>\r\n              <Typography component=\"h3\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                Add Category\r\n              </Typography>\r\n              <form className={classes.root} onSubmit={handleSubmit}>\r\n                <TextField\r\n                  label=\"Category Name\"\r\n                  id=\"categoryName\"\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  onChange={e => setCategoryName(e.target.value)}\r\n                  required\r\n                  fullWidth\r\n                  value={categoryName}\r\n                />\r\n                <Box mt={2}>\r\n                <FormControl fullWidth size=\"small\" variant=\"outlined\" className={classes.formControl} >\r\n                  <InputLabel id=\"parentLabel\">Parent Category</InputLabel>\r\n                  <Select\r\n                    labelId=\"parentLabel\"\r\n                    id=\"parent\"\r\n                    label=\"Parent Category\"\r\n                    onChange={e => setParent(e.target.value)}\r\n                    value={parent}\r\n                  >\r\n                    <MenuItem value={0}>None</MenuItem>\r\n                    {categoryList.map((category) => (\r\n                      <MenuItem value={category.categoryId}>{category.name}</MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n                </Box>\r\n                <Box mt={2}>\r\n                <Button fullWidth type=\"submit\" variant=\"contained\" color=\"primary\">\r\n                  <SaveIcon fontSize=\"small\" /> &nbsp; Save\r\n                </Button>\r\n                </Box>\r\n              </form>\r\n              </Box>\r\n            </Paper>\r\n          </Grid>\r\n          <Snackbar\r\n            anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n            open={toast}\r\n            autoHideDuration={3000}\r\n            onClose={() => { showToast(false); getCategoryList(); }}>\r\n            <Alert\r\n              severity={toastClass}\r\n              action={\r\n                <IconButton\r\n                  aria-label=\"close\"\r\n                  color=\"inherit\"\r\n                  size=\"small\"\r\n                  onClick={() => { showToast(false); getCategoryList(); }}\r\n                >\r\n                  <CloseIcon fontSize=\"inherit\" />\r\n                </IconButton>\r\n              }\r\n            >\r\n              {toastMessage}\r\n            </Alert>\r\n          </Snackbar>\r\n        </Grid>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}