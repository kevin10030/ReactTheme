{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"D:\\\\_Repos\\\\_CoreUIv3\\\\React\\\\coreui-react-internal\\\\src\\\\CDropdownCustom.js\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { tagPropType, mapToCssModules, omit, keyCodes } from './Shared/helper.js';\nimport { Manager } from 'react-popper';\nexport var Context = React.createContext({}); //component - CoreUI / CDropdownCustom\n\nvar CDropdownCustom = function CDropdownCustom(props) {\n  var _classNames;\n\n  var _omit = omit(props, ['toggle', 'disabled', 'inNavbar', 'direction']),\n      className = _omit.className,\n      cssModule = _omit.cssModule,\n      innerRef = _omit.innerRef,\n      show = _omit.show,\n      group = _omit.group,\n      size = _omit.size,\n      inNav = _omit.inNav,\n      setActiveFromChild = _omit.setActiveFromChild,\n      active = _omit.active,\n      addonType = _omit.addonType,\n      attributes = _objectWithoutPropertiesLoose(_omit, [\"className\", \"cssModule\", \"innerRef\", \"show\", \"group\", \"size\", \"inNav\", \"setActiveFromChild\", \"active\", \"addonType\"]);\n\n  var fields = useRef({\n    firstRender: true,\n    ref: {\n      current: null\n    }\n  }).current;\n\n  var reference = function reference(r) {\n    fields.ref.current = r;\n    innerRef && innerRef(r);\n  };\n\n  var getContainer = function getContainer() {\n    if (fields._$container) return fields._$container;\n    fields._$container = ReactDOM.findDOMNode(fields.ref.current);\n    return fields._$container;\n  };\n\n  var getMenuCtrl = function getMenuCtrl() {\n    if (fields._$menuCtrl) return fields._$menuCtrl;\n    fields._$menuCtrl = getContainer().querySelector('[aria-expanded]');\n    return fields._$menuCtrl;\n  };\n\n  var getMenuItems = function getMenuItems() {\n    return [].slice.call(getContainer().querySelectorAll('[role=\"menuitem\"]'));\n  };\n\n  var addEvents = function addEvents() {\n    ['click', 'touchstart', 'keyup'].forEach(function (event) {\n      return document.addEventListener(event, handleDocumentClick, true);\n    });\n    fields.handleDocumentClick = handleDocumentClick;\n  };\n\n  var removeEvents = function removeEvents() {\n    ['click', 'touchstart', 'keyup'].forEach(function (event) {\n      return document.removeEventListener(event, fields.handleDocumentClick, true);\n    });\n  };\n\n  var handleDocumentClick = function handleDocumentClick(e) {\n    if (e && (e.which === 3 || e.type === 'keyup' && e.which !== keyCodes.tab)) return;\n    var container = getContainer();\n\n    if (container.contains(e.target) && container !== e.target && (e.type !== 'keyup' || e.which === keyCodes.tab)) {\n      return;\n    }\n\n    toggle(e);\n  };\n\n  var handleKeyDown = function handleKeyDown(e) {\n    if (/input|textarea/i.test(e.target.tagName) || keyCodes.tab === e.which && e.target.getAttribute('role') !== 'menuitem') {\n      return;\n    }\n\n    e.preventDefault();\n    if (fields.disabled) return;\n\n    if (getMenuCtrl() === e.target) {\n      if (!fields.isOpen && [keyCodes.space, keyCodes.enter, keyCodes.up, keyCodes.down].indexOf(e.which) > -1) {\n        toggle(e);\n        setTimeout(function () {\n          return getMenuItems()[0].focus();\n        });\n      }\n    }\n\n    if (fields.isOpen && e.target.getAttribute('role') === 'menuitem') {\n      if ([keyCodes.tab, keyCodes.esc].indexOf(e.which) > -1) {\n        toggle(e);\n        getMenuCtrl().focus();\n      } else if ([keyCodes.space, keyCodes.enter].indexOf(e.which) > -1) {\n        e.target.click();\n        getMenuCtrl().focus();\n      } else if ([keyCodes.down, keyCodes.up].indexOf(e.which) > -1 || [keyCodes.n, keyCodes.p].indexOf(e.which) > -1 && e.ctrlKey) {\n        var $menuitems = getMenuItems();\n        var index = $menuitems.indexOf(e.target);\n\n        if (keyCodes.up === e.which || keyCodes.p === e.which && e.ctrlKey) {\n          index = index !== 0 ? index - 1 : $menuitems.length - 1;\n        } else if (keyCodes.down === e.which || keyCodes.n === e.which && e.ctrlKey) {\n          index = index === $menuitems.length - 1 ? 0 : index + 1;\n        }\n\n        $menuitems[index].focus();\n      } else if (keyCodes.end === e.which) {\n        var _$menuitems = getMenuItems();\n\n        _$menuitems[_$menuitems.length - 1].focus();\n      } else if (keyCodes.home === e.which) {\n        var _$menuitems2 = getMenuItems();\n\n        _$menuitems2[0].focus();\n      } else if (e.which >= 48 && e.which <= 90) {\n        var _$menuitems3 = getMenuItems();\n\n        var charPressed = String.fromCharCode(e.which).toLowerCase();\n\n        for (var i = 0; i < _$menuitems3.length; i += 1) {\n          var firstLetter = _$menuitems3[i].textContent && _$menuitems3[i].textContent[0].toLowerCase();\n\n          if (firstLetter === charPressed) {\n            _$menuitems3[i].focus();\n\n            break;\n          }\n        }\n      }\n    }\n  };\n\n  var handleProps = function handleProps() {\n    if (props.show) {\n      addEvents();\n    } else {\n      removeEvents();\n    }\n  };\n\n  var toggle = function toggle(e) {\n    if (fields.disabled) {\n      return e && e.preventDefault();\n    }\n\n    return props.toggle(e);\n  }; //effect\n\n\n  useEffect(function () {\n    if (fields.firstRender) {\n      return;\n    }\n\n    handleProps();\n  }, [props.show]);\n  useEffect(function () {\n    fields.firstRender = false;\n    handleProps();\n    return function cleanup() {\n      removeEvents();\n    };\n  }, []); //render\n\n  fields.disabled = props.disabled;\n  fields.isOpen = props.show;\n  var direction = props.direction; //(props.direction === 'down' && dropup) ? 'up' :\n  //attributes.tag\n\n  var Tag = attributes.tag || (inNav ? 'li' : 'div');\n  var subItemIsActive = false;\n\n  if (setActiveFromChild) {\n    React.Children.map(props.children[1].props.children, function (dropdownItem) {\n      if (dropdownItem && dropdownItem.props.active) subItemIsActive = true;\n    });\n  }\n\n  var classes = mapToCssModules(classNames(className, direction !== 'down' && \"drop\" + direction, inNav && active ? 'active' : false, setActiveFromChild && subItemIsActive ? 'active' : false, (_classNames = {}, _classNames[\"input-group-\" + addonType] = addonType, _classNames['btn-group'] = group, _classNames[\"btn-group-\" + size] = !!size, _classNames['dropdown'] = !group && !addonType, _classNames['show'] = show, _classNames['nav-item'] = inNav, _classNames)), cssModule);\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: {\n      toggle: props.toggle,\n      isOpen: props.show,\n      direction: props.direction,\n      //(props.direction === 'down' && props.dropup) ? 'up' :\n      inNavbar: props.inNavbar\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    onKeyDown: handleKeyDown,\n    ref: reference,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Manager, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  }, props.children)));\n};\n\nCDropdownCustom.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  tag: tagPropType,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  //\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func, PropTypes.string]),\n  direction: PropTypes.oneOf(['up', 'down', 'left', 'right']),\n  group: PropTypes.bool,\n  show: PropTypes.bool,\n  disabled: PropTypes.bool,\n  active: PropTypes.bool,\n  addonType: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['prepend', 'append'])]),\n  size: PropTypes.string,\n  toggle: PropTypes.func,\n  inNav: PropTypes.bool,\n  inNavbar: PropTypes.bool,\n  setActiveFromChild: PropTypes.bool\n} : {};\nCDropdownCustom.defaultProps = {\n  show: false,\n  direction: 'down',\n  active: false,\n  addonType: false,\n  inNav: false,\n  inNavbar: false,\n  setActiveFromChild: false,\n  group: true\n};\nexport default CDropdownCustom;","map":{"version":3,"sources":["D:/CSH/A/IoT/Web/trainingapp/web/trainingapp/node_modules/@coreui/react/es/CDropdownCustom.js"],"names":["_this","_jsxFileName","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","useEffect","useRef","ReactDOM","PropTypes","classNames","tagPropType","mapToCssModules","omit","keyCodes","Manager","Context","createContext","CDropdownCustom","props","_classNames","_omit","className","cssModule","innerRef","show","group","size","inNav","setActiveFromChild","active","addonType","attributes","fields","firstRender","ref","current","reference","r","getContainer","_$container","findDOMNode","getMenuCtrl","_$menuCtrl","querySelector","getMenuItems","slice","querySelectorAll","addEvents","forEach","event","document","addEventListener","handleDocumentClick","removeEvents","removeEventListener","e","which","type","tab","container","contains","toggle","handleKeyDown","test","tagName","getAttribute","preventDefault","disabled","isOpen","space","enter","up","down","setTimeout","focus","esc","click","n","p","ctrlKey","$menuitems","index","end","_$menuitems","home","_$menuitems2","_$menuitems3","charPressed","String","fromCharCode","toLowerCase","firstLetter","textContent","handleProps","cleanup","direction","Tag","tag","subItemIsActive","Children","map","children","dropdownItem","classes","createElement","Provider","value","inNavbar","__self","__source","fileName","lineNumber","columnNumber","onKeyDown","propTypes","process","env","NODE_ENV","node","string","object","oneOfType","func","oneOf","bool","defaultProps"],"mappings":"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","sourcesContent":["var _this = this,\n    _jsxFileName = \"D:\\\\_Repos\\\\_CoreUIv3\\\\React\\\\coreui-react-internal\\\\src\\\\CDropdownCustom.js\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { tagPropType, mapToCssModules, omit, keyCodes } from './Shared/helper.js';\nimport { Manager } from 'react-popper';\nexport var Context = React.createContext({}); //component - CoreUI / CDropdownCustom\n\nvar CDropdownCustom = function CDropdownCustom(props) {\n  var _classNames;\n\n  var _omit = omit(props, ['toggle', 'disabled', 'inNavbar', 'direction']),\n      className = _omit.className,\n      cssModule = _omit.cssModule,\n      innerRef = _omit.innerRef,\n      show = _omit.show,\n      group = _omit.group,\n      size = _omit.size,\n      inNav = _omit.inNav,\n      setActiveFromChild = _omit.setActiveFromChild,\n      active = _omit.active,\n      addonType = _omit.addonType,\n      attributes = _objectWithoutPropertiesLoose(_omit, [\"className\", \"cssModule\", \"innerRef\", \"show\", \"group\", \"size\", \"inNav\", \"setActiveFromChild\", \"active\", \"addonType\"]);\n\n  var fields = useRef({\n    firstRender: true,\n    ref: {\n      current: null\n    }\n  }).current;\n\n  var reference = function reference(r) {\n    fields.ref.current = r;\n    innerRef && innerRef(r);\n  };\n\n  var getContainer = function getContainer() {\n    if (fields._$container) return fields._$container;\n    fields._$container = ReactDOM.findDOMNode(fields.ref.current);\n    return fields._$container;\n  };\n\n  var getMenuCtrl = function getMenuCtrl() {\n    if (fields._$menuCtrl) return fields._$menuCtrl;\n    fields._$menuCtrl = getContainer().querySelector('[aria-expanded]');\n    return fields._$menuCtrl;\n  };\n\n  var getMenuItems = function getMenuItems() {\n    return [].slice.call(getContainer().querySelectorAll('[role=\"menuitem\"]'));\n  };\n\n  var addEvents = function addEvents() {\n    ['click', 'touchstart', 'keyup'].forEach(function (event) {\n      return document.addEventListener(event, handleDocumentClick, true);\n    });\n    fields.handleDocumentClick = handleDocumentClick;\n  };\n\n  var removeEvents = function removeEvents() {\n    ['click', 'touchstart', 'keyup'].forEach(function (event) {\n      return document.removeEventListener(event, fields.handleDocumentClick, true);\n    });\n  };\n\n  var handleDocumentClick = function handleDocumentClick(e) {\n    if (e && (e.which === 3 || e.type === 'keyup' && e.which !== keyCodes.tab)) return;\n    var container = getContainer();\n\n    if (container.contains(e.target) && container !== e.target && (e.type !== 'keyup' || e.which === keyCodes.tab)) {\n      return;\n    }\n\n    toggle(e);\n  };\n\n  var handleKeyDown = function handleKeyDown(e) {\n    if (/input|textarea/i.test(e.target.tagName) || keyCodes.tab === e.which && e.target.getAttribute('role') !== 'menuitem') {\n      return;\n    }\n\n    e.preventDefault();\n    if (fields.disabled) return;\n\n    if (getMenuCtrl() === e.target) {\n      if (!fields.isOpen && [keyCodes.space, keyCodes.enter, keyCodes.up, keyCodes.down].indexOf(e.which) > -1) {\n        toggle(e);\n        setTimeout(function () {\n          return getMenuItems()[0].focus();\n        });\n      }\n    }\n\n    if (fields.isOpen && e.target.getAttribute('role') === 'menuitem') {\n      if ([keyCodes.tab, keyCodes.esc].indexOf(e.which) > -1) {\n        toggle(e);\n        getMenuCtrl().focus();\n      } else if ([keyCodes.space, keyCodes.enter].indexOf(e.which) > -1) {\n        e.target.click();\n        getMenuCtrl().focus();\n      } else if ([keyCodes.down, keyCodes.up].indexOf(e.which) > -1 || [keyCodes.n, keyCodes.p].indexOf(e.which) > -1 && e.ctrlKey) {\n        var $menuitems = getMenuItems();\n        var index = $menuitems.indexOf(e.target);\n\n        if (keyCodes.up === e.which || keyCodes.p === e.which && e.ctrlKey) {\n          index = index !== 0 ? index - 1 : $menuitems.length - 1;\n        } else if (keyCodes.down === e.which || keyCodes.n === e.which && e.ctrlKey) {\n          index = index === $menuitems.length - 1 ? 0 : index + 1;\n        }\n\n        $menuitems[index].focus();\n      } else if (keyCodes.end === e.which) {\n        var _$menuitems = getMenuItems();\n\n        _$menuitems[_$menuitems.length - 1].focus();\n      } else if (keyCodes.home === e.which) {\n        var _$menuitems2 = getMenuItems();\n\n        _$menuitems2[0].focus();\n      } else if (e.which >= 48 && e.which <= 90) {\n        var _$menuitems3 = getMenuItems();\n\n        var charPressed = String.fromCharCode(e.which).toLowerCase();\n\n        for (var i = 0; i < _$menuitems3.length; i += 1) {\n          var firstLetter = _$menuitems3[i].textContent && _$menuitems3[i].textContent[0].toLowerCase();\n\n          if (firstLetter === charPressed) {\n            _$menuitems3[i].focus();\n\n            break;\n          }\n        }\n      }\n    }\n  };\n\n  var handleProps = function handleProps() {\n    if (props.show) {\n      addEvents();\n    } else {\n      removeEvents();\n    }\n  };\n\n  var toggle = function toggle(e) {\n    if (fields.disabled) {\n      return e && e.preventDefault();\n    }\n\n    return props.toggle(e);\n  }; //effect\n\n\n  useEffect(function () {\n    if (fields.firstRender) {\n      return;\n    }\n\n    handleProps();\n  }, [props.show]);\n  useEffect(function () {\n    fields.firstRender = false;\n    handleProps();\n    return function cleanup() {\n      removeEvents();\n    };\n  }, []); //render\n\n  fields.disabled = props.disabled;\n  fields.isOpen = props.show;\n  var direction = props.direction; //(props.direction === 'down' && dropup) ? 'up' :\n  //attributes.tag\n\n  var Tag = attributes.tag || (inNav ? 'li' : 'div');\n  var subItemIsActive = false;\n\n  if (setActiveFromChild) {\n    React.Children.map(props.children[1].props.children, function (dropdownItem) {\n      if (dropdownItem && dropdownItem.props.active) subItemIsActive = true;\n    });\n  }\n\n  var classes = mapToCssModules(classNames(className, direction !== 'down' && \"drop\" + direction, inNav && active ? 'active' : false, setActiveFromChild && subItemIsActive ? 'active' : false, (_classNames = {}, _classNames[\"input-group-\" + addonType] = addonType, _classNames['btn-group'] = group, _classNames[\"btn-group-\" + size] = !!size, _classNames['dropdown'] = !group && !addonType, _classNames['show'] = show, _classNames['nav-item'] = inNav, _classNames)), cssModule);\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: {\n      toggle: props.toggle,\n      isOpen: props.show,\n      direction: props.direction,\n      //(props.direction === 'down' && props.dropup) ? 'up' :\n      inNavbar: props.inNavbar\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    onKeyDown: handleKeyDown,\n    ref: reference,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Manager, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  }, props.children)));\n};\n\nCDropdownCustom.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  tag: tagPropType,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  //\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func, PropTypes.string]),\n  direction: PropTypes.oneOf(['up', 'down', 'left', 'right']),\n  group: PropTypes.bool,\n  show: PropTypes.bool,\n  disabled: PropTypes.bool,\n  active: PropTypes.bool,\n  addonType: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['prepend', 'append'])]),\n  size: PropTypes.string,\n  toggle: PropTypes.func,\n  inNav: PropTypes.bool,\n  inNavbar: PropTypes.bool,\n  setActiveFromChild: PropTypes.bool\n} : {};\nCDropdownCustom.defaultProps = {\n  show: false,\n  direction: 'down',\n  active: false,\n  addonType: false,\n  inNav: false,\n  inNavbar: false,\n  setActiveFromChild: false,\n  group: true\n};\nexport default CDropdownCustom;"]},"metadata":{},"sourceType":"module"}