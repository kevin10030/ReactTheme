{"ast":null,"code":"var _jsxFileName = \"D:\\\\CSH\\\\Samples\\\\Theme\\\\ReactTheme\\\\trainingapp\\\\web\\\\src\\\\modules\\\\users\\\\Users.jsx\";\nimport React, { Component, useEffect } from \"react\";\nimport { CButton, CCard, CCardBody, CCardHeader, CCardFooter, CCol, CRow, CDataTable, CForm, CFormGroup, CFormText, CLink, CInput, CLabel, CSelect, CSpinner, CInputGroup, CInputGroupPrepend, CInputGroupText, CInputFile } from \"@coreui/react\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport { NavLink as RouterLink, useHistory } from \"react-router-dom\";\nimport CIcon from '@coreui/icons-react';\nimport axios from 'axios';\nimport Config from '../../common/Config';\nimport UserService from '../../services/UserService';\n\nfunction Alert(props) {\n  return /*#__PURE__*/React.createElement(MuiAlert, Object.assign({\n    elevation: 6\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 10\n    }\n  }));\n}\n\nexport default function Users() {\n  const history = useHistory();\n  const [currentPage, setCurrentPage] = React.useState(1);\n  const [currentPagination, setCurrentPagination] = React.useState(5);\n\n  const getLastVal = currentPage => {\n    if (currentPage * currentPagination < usersList.length) return currentPage * currentPagination;\n    return usersList.length;\n  };\n\n  const fields = [{\n    key: \"firstname\",\n    label: \"First Name\",\n    _style: {\n      width: \"20%\"\n    }\n  }, {\n    key: \"lastname\",\n    label: \"Last Name\",\n    _style: {\n      width: \"20%\"\n    }\n  }, {\n    key: \"userrole\",\n    label: \"User Role\",\n    _style: {\n      width: \"20%\"\n    }\n  }, {\n    key: \"email\",\n    label: \"Email\",\n    _style: {\n      width: \"20%\"\n    }\n  }, {\n    key: \"mobilenumber\",\n    label: \"Mobile\",\n    _style: {\n      width: \"20%\"\n    }\n  }, {\n    key: \"country\",\n    label: \"Country\",\n    _style: {\n      width: \"20%\"\n    }\n  }, {\n    key: \"city\",\n    label: \"City\",\n    _style: {\n      width: \"20%\"\n    }\n  }, {\n    key: 'actions',\n    label: '',\n    _style: {\n      width: '100px'\n    },\n    sorter: false,\n    filter: false\n  }];\n  const [loading, setLoading] = React.useState(false);\n  const [usersList, setUsersList] = React.useState([]);\n  const [userId, setUserId] = React.useState('');\n  const [firstname, setFirstname] = React.useState('');\n  const [lastname, setLastname] = React.useState('');\n  const [email, setEmail] = React.useState('');\n  const [mobileNumber, setMobileNumber] = React.useState('');\n  const [company, setCompany] = React.useState('');\n  const [country, setCountry] = React.useState('');\n  const [state, setState] = React.useState('');\n  const [city, setCity] = React.useState('');\n  const [address, setAddress] = React.useState('');\n  const [pincode, setPincode] = React.useState('');\n  const [userrole, setUserRole] = React.useState('');\n  const [toast, showToast] = React.useState(false);\n  const [toastMessage, setToastMessage] = React.useState('');\n  const [toastClass, setToastClass] = React.useState('success');\n  React.useEffect(() => {\n    if (localStorage.getItem(\"loginUser\")) {\n      var loginUser = JSON.parse(localStorage.getItem(\"loginUser\"));\n      console.log(\"loginUser2 ===> \" + JSON.stringify(loginUser));\n\n      if (loginUser.userrole !== 'Admin') {\n        history.push('/');\n      }\n    } else {\n      history.push(\"/auth/login-page\");\n    }\n\n    getUserList();\n  }, []);\n\n  const getUserList = async () => {\n    setLoading(true);\n    axios({\n      url: Config.BACKEND_API_URL + '/admin/user/list',\n      method: 'get'\n    }).then(function (response) {\n      const list = response.data.sort((a, b) => a.createdtime > b.createdtime ? 1 : -1);\n      console.log(list);\n      setUsersList(list);\n      setLoading(false);\n    }).catch(function (error) {\n      console.log(error.response);\n      setLoading(false);\n    });\n  };\n\n  const setUser = async item => {\n    setUserId(item.userId);\n    setEmail(item.email);\n    setFirstname(item.firstname);\n    setLastname(item.lastname);\n    setCompany(item.company);\n    setState(item.state);\n    setCountry(item.country);\n    setCity(item.city);\n    setAddress(item.address);\n    setMobileNumber(item.mobilenumber);\n    setPincode(item.pincode);\n    setUserRole(item.userrole);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setLoading(true);\n    UserService.createUser({\n      userId: userId,\n      email: email,\n      firstname: firstname,\n      lastname: lastname,\n      mobileNumber: mobileNumber,\n      company: company,\n      country: country,\n      state: state,\n      city: city,\n      address: address,\n      pincode: pincode,\n      userrole: userrole\n    }, res => {\n      setLoading(false);\n      setToastClass('success');\n      setToastMessage(res);\n      showToast(true);\n      getUserList();\n    }, err => {\n      setLoading(false);\n      setToastClass('error');\n      setToastMessage(err);\n      showToast(true);\n      getUserList();\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"animated fadeIn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CCol, {\n    xl: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CCard, {\n    custom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CCardHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, \"Users\"), /*#__PURE__*/React.createElement(CCardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CDataTable, {\n    items: usersList,\n    fields: fields,\n    tableFilter: true,\n    itemsPerPageSelect: false,\n    itemsPerPage: currentPagination,\n    dark: false,\n    hover: false,\n    border: false,\n    outlined: false,\n    loading: false,\n    sorter: false,\n    pagination: {\n      doubleArrows: true,\n      align: \"center\"\n    },\n    loading: loading,\n    onPageChange: val => {\n      console.log(\"new page:\", val);\n      setCurrentPage(val);\n    },\n    onPaginationChange: val => {\n      console.log(\"new pagination:\", val);\n      setCurrentPagination(val);\n    },\n    scopedSlots: {\n      'actions': item => {\n        return /*#__PURE__*/React.createElement(\"td\", {\n          className: \"py-2\",\n          style: {\n            display: 'flex',\n            justifyContent: 'flex-end',\n            textAlign: 'right'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }\n        }, userId != item.userId ? /*#__PURE__*/React.createElement(CButton, {\n          size: \"sm\",\n          color: \"info\",\n          onClick: e => {\n            e.preventDefault();\n            setUser(item);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 29\n          }\n        }, \"Edit\") : /*#__PURE__*/React.createElement(CButton, {\n          size: \"sm\",\n          color: \"info\",\n          disabled: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 31\n          }\n        }, \"Edit\"));\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(CRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CCol, {\n    xs: \"9\",\n    md: \"8\",\n    style: {\n      alignSelf: \"center\",\n      display: \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"spin\", {\n    style: {\n      marginTop: \"5px\",\n      marginRight: \"5px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 19\n    }\n  }, \"Items per page:\"), /*#__PURE__*/React.createElement(CSelect, {\n    name: \"itemsperpage\",\n    id: \"itemsperpage\",\n    style: {\n      width: \"70px\"\n    },\n    onChange: e => setCurrentPagination(e.target.value),\n    value: currentPagination,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 21\n    }\n  }, \"5\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 21\n    }\n  }, \"10\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"15\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 21\n    }\n  }, \"15\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 21\n    }\n  }, \"20\"))), /*#__PURE__*/React.createElement(CCol, {\n    xs: \"3\",\n    md: \"4\",\n    style: {\n      alignSelf: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"right\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"spin\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 21\n    }\n  }, (currentPage - 1) * currentPagination + 1 + \"-\" + getLastVal(currentPage) + \" of \" + usersList.length))))))), /*#__PURE__*/React.createElement(CCol, {\n    lg: \"7\",\n    md: \"8\",\n    sm: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CCard, {\n    custom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CCardHeader, {\n    id: \"headingOne\",\n    style: {\n      display: 'inline-flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 13\n    }\n  }, \"Edit User\"), /*#__PURE__*/React.createElement(CCardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CForm, {\n    onSubmit: handleSubmit,\n    className: \"form-horizontal\",\n    name: \"simpleForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupPrepend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 21\n    }\n  }, \"@\")), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    label: \"Email\",\n    name: \"useremail-input\",\n    id: \"useremail-input\",\n    placeholder: \"Email\",\n    autoComplete: \"given-email\",\n    value: email,\n    required: true,\n    readonly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupPrepend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 21\n    }\n  }, \"@\")), /*#__PURE__*/React.createElement(CSelect, {\n    name: \"userrole\",\n    id: \"userrole\",\n    onChange: e => setUserRole(e.target.value),\n    value: userrole,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 21\n    }\n  }, \"User\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"admin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 21\n    }\n  }, \"Admin\"))), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CButton, {\n    type: \"submit\",\n    size: \"sm\",\n    color: \"primary\",\n    style: {\n      marginRight: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CIcon, {\n    name: \"cil-save\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 98\n    }\n  }), \" Save\"))))))), /*#__PURE__*/React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: \"top\",\n      horizontal: \"center\"\n    },\n    open: toast,\n    autoHideDuration: 3000,\n    onClose: () => {\n      showToast(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    severity: toastClass,\n    action: /*#__PURE__*/React.createElement(CButton, {\n      onClick: e => {\n        e.preventDefault();\n        showToast(false);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CIcon, {\n      name: \"cil-x\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 15\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 9\n    }\n  }, toastMessage)));\n}","map":{"version":3,"sources":["D:/CSH/Samples/Theme/ReactTheme/trainingapp/web/src/modules/users/Users.jsx"],"names":["React","Component","useEffect","CButton","CCard","CCardBody","CCardHeader","CCardFooter","CCol","CRow","CDataTable","CForm","CFormGroup","CFormText","CLink","CInput","CLabel","CSelect","CSpinner","CInputGroup","CInputGroupPrepend","CInputGroupText","CInputFile","MuiAlert","Snackbar","NavLink","RouterLink","useHistory","CIcon","axios","Config","UserService","Alert","props","Users","history","currentPage","setCurrentPage","useState","currentPagination","setCurrentPagination","getLastVal","usersList","length","fields","key","label","_style","width","sorter","filter","loading","setLoading","setUsersList","userId","setUserId","firstname","setFirstname","lastname","setLastname","email","setEmail","mobileNumber","setMobileNumber","company","setCompany","country","setCountry","state","setState","city","setCity","address","setAddress","pincode","setPincode","userrole","setUserRole","toast","showToast","toastMessage","setToastMessage","toastClass","setToastClass","localStorage","getItem","loginUser","JSON","parse","console","log","stringify","push","getUserList","url","BACKEND_API_URL","method","then","response","list","data","sort","a","b","createdtime","catch","error","setUser","item","mobilenumber","handleSubmit","event","preventDefault","createUser","res","err","doubleArrows","align","val","display","justifyContent","textAlign","e","alignSelf","marginTop","marginRight","target","value","vertical","horizontal"],"mappings":"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","sourcesContent":["import React, { Component, useEffect } from \"react\";\r\nimport {\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCardFooter,\r\n  CCol,\r\n  CRow,\r\n  CDataTable,\r\n  CForm,\r\n  CFormGroup,\r\n  CFormText,\r\n  CLink,\r\n  CInput,\r\n  CLabel,\r\n  CSelect,\r\n  CSpinner,\r\n  CInputGroup,\r\n  CInputGroupPrepend,\r\n  CInputGroupText,\r\n  CInputFile\r\n} from \"@coreui/react\";\r\n\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\n\r\nimport { NavLink as RouterLink, useHistory } from \"react-router-dom\";\r\nimport CIcon from '@coreui/icons-react';\r\nimport axios from 'axios';\r\nimport Config from '../../common/Config';\r\nimport UserService from '../../services/UserService';\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} {...props} />;\r\n}\r\n\r\nexport default function Users() {\r\n  const history = useHistory();\r\n  const [currentPage, setCurrentPage] = React.useState(1)\r\n  const [currentPagination, setCurrentPagination] = React.useState(5)\r\n  const getLastVal = (currentPage) => {\r\n    if (currentPage * currentPagination < usersList.length)\r\n      return currentPage * currentPagination;\r\n    return usersList.length;\r\n  }\r\n  const fields = [\r\n    { key: \"firstname\", label: \"First Name\", _style: { width: \"20%\" } },\r\n    { key: \"lastname\", label: \"Last Name\", _style: { width: \"20%\" } },\r\n    { key: \"userrole\", label: \"User Role\", _style: { width: \"20%\" } },\r\n    { key: \"email\", label: \"Email\", _style: { width: \"20%\" } },\r\n    { key: \"mobilenumber\", label: \"Mobile\", _style: { width: \"20%\" } },\r\n    { key: \"country\", label: \"Country\", _style: { width: \"20%\" } },\r\n    { key: \"city\", label: \"City\", _style: { width: \"20%\" } },\r\n    {\r\n      key: 'actions',\r\n      label: '',\r\n      _style: { width: '100px' },\r\n      sorter: false,\r\n      filter: false\r\n    },\r\n  ];\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [usersList, setUsersList] = React.useState([]);\r\n  const [userId, setUserId] = React.useState('');\r\n  const [firstname, setFirstname] = React.useState('');\r\n  const [lastname, setLastname] = React.useState('');\r\n  const [email, setEmail] = React.useState('');\r\n  const [mobileNumber, setMobileNumber] = React.useState('');\r\n  const [company, setCompany] = React.useState('');\r\n  const [country, setCountry] = React.useState('');\r\n  const [state, setState] = React.useState('');\r\n  const [city, setCity] = React.useState('');\r\n  const [address, setAddress] = React.useState('');\r\n  const [pincode, setPincode] = React.useState('');\r\n  const [userrole, setUserRole] = React.useState('');\r\n  const [toast, showToast] = React.useState(false);\r\n  const [toastMessage, setToastMessage] = React.useState('');\r\n  const [toastClass, setToastClass] = React.useState('success');\r\n\r\n  React.useEffect(() => {\r\n    if (localStorage.getItem(\"loginUser\")) {\r\n      var loginUser = JSON.parse(localStorage.getItem(\"loginUser\"));\r\n      console.log(\"loginUser2 ===> \" + JSON.stringify(loginUser));\r\n      if(loginUser.userrole !== 'Admin') {\r\n        history.push('/');\r\n      }\r\n    } else {\r\n      history.push(\"/auth/login-page\");\r\n    }\r\n    getUserList();\r\n  }, []);\r\n\r\n  const getUserList = async () => {\r\n    setLoading(true);\r\n    axios({\r\n      url: Config.BACKEND_API_URL+'/admin/user/list',\r\n      method: 'get'\r\n    })\r\n    .then(function (response) {\r\n      const list = response.data.sort((a, b) => a.createdtime > b.createdtime ? 1 : -1)\r\n      console.log(list)\r\n      setUsersList(list);\r\n      setLoading(false);\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error.response)\r\n      setLoading(false);\r\n     });\r\n  };\r\n\r\n  const setUser = async (item) => {\r\n    setUserId(item.userId); setEmail(item.email);\r\n    setFirstname(item.firstname); setLastname(item.lastname);\r\n    setCompany(item.company); setState(item.state);\r\n    setCountry(item.country); setCity(item.city);\r\n    setAddress(item.address); setMobileNumber(item.mobilenumber);\r\n    setPincode(item.pincode); setUserRole(item.userrole);\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    setLoading(true);\r\n    UserService.createUser({\r\n      userId: userId,\r\n      email: email,\r\n      firstname: firstname,\r\n      lastname: lastname,\r\n      mobileNumber: mobileNumber,\r\n      company: company,\r\n      country: country,\r\n      state: state,\r\n      city: city,\r\n      address: address,\r\n      pincode: pincode,\r\n      userrole: userrole\r\n    }, (res) => {\r\n      setLoading(false);\r\n      setToastClass('success');\r\n      setToastMessage(res);\r\n      showToast(true);\r\n      getUserList();\r\n    }, (err) => {\r\n      setLoading(false);\r\n      setToastClass('error');\r\n      setToastMessage(err);\r\n      showToast(true);\r\n      getUserList();\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"animated fadeIn\">\r\n      <CRow>\r\n        <CCol xl=\"12\">\r\n          <CCard custom>\r\n            <CCardHeader>Users</CCardHeader>\r\n            <CCardBody>\r\n              <CDataTable\r\n                items={usersList}\r\n                fields={fields}\r\n                tableFilter\r\n                itemsPerPageSelect={false}\r\n                itemsPerPage={currentPagination}\r\n                dark={false}\r\n                hover={false}\r\n                border={false}\r\n                outlined={false}\r\n                loading={false}\r\n                sorter={false}\r\n                pagination={{ doubleArrows: true, align: \"center\" }}\r\n                loading={loading}\r\n                onPageChange={val => {\r\n                  console.log(\"new page:\", val);\r\n                  setCurrentPage(val);\r\n                }}\r\n                onPaginationChange={val => {\r\n                  console.log(\"new pagination:\", val);\r\n                  setCurrentPagination(val);\r\n                }}\r\n                scopedSlots={{\r\n                  'actions':\r\n                    item => {\r\n                      return(\r\n                        <td className=\"py-2\" style={{display:'flex',justifyContent: 'flex-end',textAlign:'right'}}>\r\n                          {\r\n                            userId != item.userId ?\r\n                            <CButton size=\"sm\" color=\"info\" onClick={(e) => { e.preventDefault(); setUser(item) }}>Edit</CButton>\r\n                            : <CButton size=\"sm\" color=\"info\" disabled>Edit</CButton>\r\n                          }\r\n                        </td>\r\n                      )\r\n                    }\r\n                }}\r\n              />\r\n              <CRow>\r\n                <CCol\r\n                  xs=\"9\"\r\n                  md=\"8\"\r\n                  style={{ alignSelf: \"center\", display: \"flex\" }}\r\n                >\r\n                  <spin style={{ marginTop: \"5px\", marginRight: \"5px\" }}>\r\n                    Items per page:\r\n                  </spin>\r\n                  <CSelect\r\n                    name=\"itemsperpage\"\r\n                    id=\"itemsperpage\"\r\n                    style={{ width: \"70px\" }}\r\n                    onChange={e => setCurrentPagination(e.target.value)}\r\n                    value={currentPagination}\r\n                  >\r\n                    <option value=\"5\">5</option>\r\n                    <option value=\"10\">10</option>\r\n                    <option value=\"15\">15</option>\r\n                    <option value=\"20\">20</option>\r\n                  </CSelect>\r\n                </CCol>\r\n                <CCol xs=\"3\" md=\"4\" style={{ alignSelf: \"center\" }}>\r\n                  <div style={{ textAlign: \"right\" }}>\r\n                    <spin>\r\n                      {(currentPage - 1) * currentPagination +\r\n                        1 +\r\n                        \"-\" +\r\n                        getLastVal(currentPage) +\r\n                        \" of \" +\r\n                        usersList.length}\r\n                    </spin>\r\n                  </div>\r\n                </CCol>\r\n              </CRow>\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n        <CCol lg=\"7\" md=\"8\" sm=\"12\">\r\n          <CCard custom>\r\n            <CCardHeader id=\"headingOne\" style={{ display: 'inline-flex' }}>\r\n              Edit User\r\n            </CCardHeader>\r\n            <CCardBody>\r\n              <CForm onSubmit={handleSubmit} className=\"form-horizontal\" name='simpleForm'>\r\n                <CInputGroup className=\"mb-3\">\r\n                  <CInputGroupPrepend>\r\n                    <CInputGroupText>@</CInputGroupText>\r\n                  </CInputGroupPrepend>\r\n                  <CInput type=\"text\"\r\n                      label=\"Email\"\r\n                      name=\"useremail-input\"\r\n                      id=\"useremail-input\"\r\n                      placeholder=\"Email\"\r\n                      autoComplete=\"given-email\"\r\n                      value={email}\r\n                      required\r\n                      readonly />\r\n                </CInputGroup>\r\n                <CInputGroup className=\"mb-3\">\r\n                  <CInputGroupPrepend>\r\n                    <CInputGroupText>@</CInputGroupText>\r\n                  </CInputGroupPrepend>\r\n                  <CSelect\r\n                    name=\"userrole\"\r\n                    id=\"userrole\"\r\n                    onChange={e => setUserRole(e.target.value)}\r\n                    value={userrole}\r\n                  >\r\n                    <option value=\"user\">User</option>\r\n                    <option value=\"admin\">Admin</option>\r\n                  </CSelect>\r\n                </CInputGroup>\r\n                <hr/>\r\n                <div style={{width:\"150px\"}}>\r\n                  <CButton type=\"submit\" size=\"sm\" color=\"primary\" style={{marginRight:'10px'}} ><CIcon name=\"cil-save\" /> Save</CButton>\r\n                </div>\r\n              </CForm>\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n      </CRow>\r\n      <Snackbar\r\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n        open={toast}\r\n        autoHideDuration={3000}\r\n        onClose={() => { showToast(false); }}\r\n      >\r\n        <Alert severity={toastClass}\r\n          action={\r\n            <CButton\r\n              onClick={e => {\r\n                e.preventDefault();\r\n                showToast(false);\r\n              }}\r\n            >\r\n              <CIcon name=\"cil-x\" />\r\n            </CButton>\r\n          }\r\n        >\r\n          {toastMessage}\r\n        </Alert>\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}